(self.webpackChunk=self.webpackChunk||[]).push([[143],{699:function(t,e,r){"use strict";var n=r(527),i=r.n(n);function o(t,e,r){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),r}class a{static boot(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>o(this,a,l).call(this))):o(this,a,l).call(this)}}function l(){window.ko||(window.ko=o(a,a,u).call(a))}function u(){const t=document.querySelectorAll("[data-vm]");for(let e of t){let t=r(269)(`./${e.getAttribute("data-vm")}.js`).default;i().applyBindings(new t(e),e)}return i()}a.boot()},99:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return d}});var n=r(527),i=r.n(n);function o(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class a{constructor(t,e,r){o(this,"active",i().observable(!1)),this.title=t,this.anchor=`#${e}`,this.node=r}static fromNode(t){return new a(t.textContent.trim(),t.getAttribute("data-anchor"),t)}}function l(t,e){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.add(t)}function u(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}var c=new WeakSet,f=new WeakSet;class d{constructor(t){l(this,f),l(this,c),u(this,"current",i().observable(null)),u(this,"anchors",i().observableArray([])),s(this,f,v).call(this,t),s(this,c,h).call(this,window.scrollY),document.addEventListener("scroll",(()=>{window.requestAnimationFrame((()=>{s(this,c,h).call(this,window.scrollY)}))})),this.current.subscribe((e=>{null!==e&&setTimeout((()=>{s(this,f,v).call(this,t)}),1)}),null,"change")}}function h(t){let e=Number.MAX_VALUE,r=null;for(let n of this.anchors()){let i=t-n.node.offsetTop;i>-40&&e>i&&(e=i,r=n)}if(null!==r){for(let t of this.anchors())t!==r&&t.active(!1);r.active(!0)}}function v(t){this.anchors([]);for(let e of t.querySelectorAll("[data-anchor]"))this.anchors.push(a.fromNode(e))}},523:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return o}});var n=r(99),i=r(242);class o{constructor(t){this.page=new n.default(t.querySelector("[data-id=page]")),this.menu=new i.default(t.querySelector("[data-id=menu]"),this.page)}}},242:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return v}});var n=r(527),i=r.n(n);function o(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class a{constructor(t,e,r){o(this,"active",i().observable(!1)),o(this,"loading",i().observable(!1)),this.id=t,this.title=e,this.active(r)}static fromNode(t){return new a(t.getAttribute("data-link"),t.textContent.trim(),t.classList.contains("active"))}}function l(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class u{constructor(t){l(this,"menu",i().observableArray([])),this.title=t}}r(99);function s(t,e){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.add(t)}function c(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}var d=new WeakSet,h=new WeakSet;class v{constructor(t,e){s(this,h),s(this,d),c(this,"categories",i().observableArray([])),c(this,"loading",!1),this.page=e,f(this,d,b).call(this,t)}async select(t){if(!this.loading){f(this,h,m).call(this),this.loading=!0,t.loading(!0);try{let e=await this.load(t);window.history.pushState(e,e.title,`${e.url}`),document.title=`${e.title} â€” PHP::Quest`,this.page.current(e),window.scrollTo({top:0,behavior:"smooth"}),t.active(!0)}finally{this.loading=!1,t.loading(!1)}}}async load(t){if(sessionStorage[t.id])return JSON.parse(sessionStorage.getItem(t.id));let e=await fetch("/graphql",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({operationName:null,query:"query($id: ID!) {\n                    page: pageById(id: $id) {\n                        id\n                        url\n                        title\n                        content\n                        isAvailable\n                        updatedAt\n                        category {\n                            title\n                        }\n                    }\n                }",variables:{id:t.id}})}),r=await e.json();return sessionStorage.setItem(t.id,JSON.stringify(r.data.page)),r.data.page}}function b(t){for(let e of t.querySelectorAll("[data-id=category]")){let t=e.querySelector("[data-id=title]"),r=new u(t.textContent.trim());for(let t of e.querySelectorAll("[data-link]"))r.menu.push(a.fromNode(t));this.categories.push(r)}}function m(){for(let t of this.categories())for(let e of t.menu())e.active(!1)}},269:function(t,e,r){var n={"./DocumentationViewModel.js":99,"./LayoutViewModel.js":523,"./MenuViewModel.js":242};function i(t){var e=o(t);return r(e)}function o(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=o,t.exports=i,i.id=269}},function(t){t.O(0,[527],(function(){return e=699,t(t.s=e);var e}));t.O()}]);